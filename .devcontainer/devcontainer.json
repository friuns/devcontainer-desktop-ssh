{
    "name": "Dev Container with Desktop and SSH",
    "image": "ubuntu:24.04",
    "features": {
        "ghcr.io/devcontainers/features/desktop-lite:1": {
            "password": "vscode",
            "webPort": "6080",
            "vncPort": "5901"
        },
        "ghcr.io/devcontainers/features/sshd:1": {
            "version": "latest"
        }
    },
    "forwardPorts": [6080, 5901, 2222],
    "portsAttributes": {
        "6080": {
            "label": "Desktop (noVNC)",
            "onAutoForward": "notify"
        },
        "5901": {
            "label": "VNC",
            "onAutoForward": "notify"
        },
        "2222": {
            "label": "SSH",
            "onAutoForward": "notify"
        }
    },
    "postCreateCommand": [
        "echo 'Setting up full Ubuntu environment...'",
        "apt-get update",
        "apt-get install -y sudo curl wget git vim nano htop net-tools openssh-client build-essential python3 python3-pip nodejs npm",
        "echo 'Installing common desktop applications...'",
        "apt-get install -y --no-install-recommends xfce4-terminal mousepad thunar firefox x11-apps xterm gedit vim-gtk3 leafpad",
        "echo 'Full Ubuntu desktop environment is ready!'"
    ],
    "remoteUser": "vscode"
}
